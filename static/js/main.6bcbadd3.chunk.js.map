{"version":3,"sources":["services/requests.js","GlobalStyle.js","components/PostcodeForm.js","components/utils/Loader.js","components/layout/Logo.js","components/Windmill.js","components/charts/PieChart.js","components/charts/Table.js","components/layout/DataContainer.js","components/energy-data/EnergyData.js","components/charts/BarChart.js","components/pollution-data/PollutionData.js","components/layout/MainContent.js","App.js","index.js"],"names":["fetchLocationData","postcode","a","formattedPostcode","replace","axios","get","res","data","result","admin_district","outcode","latitude","longitude","fetchEnergeyData","services","fetchPollutionData","lat","long","process","list","GlobalStyle","createGlobalStyle","postcodeTest","FormWrapper","styled","div","props","style","top","fontSize","SubmitBtn","button","PostcodeInput","input","Error","PostcodeForm","setLocationData","setSubmitted","inputRef","useRef","useState","error","setError","setPostcode","width","formStyle","setFormStyle","useEffect","current","focus","handleSubmit","e","preventDefault","test","console","setTimeout","display","justifyContent","onSubmit","autoComplete","ref","aria-label","type","name","placeholder","value","onChange","target","toUpperCase","handleChange","class","loading","keyframes","LoaderWidget","Loader","position","bottom","left","transform","textAlign","height","margin","marginTop","Logo","submitted","transition","fontFamily","cursor","color","Wrapper","isMobile","show","Stem","spin","BladeWrapper","Blade","rotation","Windmill","useMediaQuery","maxWidth","PieChart","chartColours","canvasRef","ctx","getContext","generatePie","clearCanvas","accum","forEach","obj","drawSlice","radians","arcStart","label","canvas","centerX","centerY","radius","arcEnd","beginPath","moveTo","arc","closePath","fillStyle","fill","midPoint","labelPos","labelX","Math","cos","labelY","sin","font","fontWeight","fillText","clearRect","Table","headings","gridTemplateColumns","map","capitalize","DataContainer","children","flexDirection","alignItems","biomass","solar","wind","hydro","coal","nuclear","imports","gas","other","enterRight","EnergyWrapper","section","EnergyData","chartData","useCallback","filteredData","generationmix","filter","perc","total","reduce","count","fuel","PI","tableData","sort","b","intensity","forecast","index","order","BarChart","colours","LABEL_PADDING","TOP_PADDING","MAX_VALUE","max","ceil","generateChart","chartWidth","length","chartHeight","strokeStyle","lineTo","stroke","i","round","valueY","BAR_GAP","drawBar","BAR_WIDTH","barHeight","rectX","rectY","fillRect","barColours","no","no2","o3","so2","pm2_5","pm10","nh3","airIndex","1","2","3","4","5","pollutantIndex","co","enterLeft","PollutionWrapper","PollutionData","Object","keys","components","key","entries","pollutant","main","aqi","MainContent","location","marginLeft","energyData","pollutionData","MainWrapper","MainContentWrapper","App","setLoading","locationData","setData","fetchData","Promise","all","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6bcbadd3.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst fetchLocationData = async postcode => {\n  try {\n    const formattedPostcode = postcode.replace(/\\s/g, '');\n\n    const res = await axios.get(\n      `https://api.postcodes.io/postcodes/${formattedPostcode}`\n    );\n\n    const { admin_district, outcode, latitude, longitude } = res.data.result;\n\n    return {\n      admin_district,\n      outcode,\n      latitude,\n      longitude,\n    };\n  } catch (err) {\n    throw err;\n  }\n};\n\nconst fetchEnergeyData = async outcode => {\n  try {\n    const res = await axios.get(\n      `https://api.carbonintensity.org.uk/regional/postcode/${outcode}`\n    );\n\n    return res.data.data[0].data[0];\n  } catch (err) {\n    throw err;\n  }\n};\n\nconst fetchPollutionData = async (lat, long) => {\n  try {\n    const res = await axios.get(\n      `https://secret-ocean-49799.herokuapp.com/http://api.openweathermap.org/data/2.5/air_pollution?lat=${lat}&lon=${long}&appid=${process.env.REACT_APP_API_KEY}`\n    );\n\n    return res.data.list[0];\n  } catch (err) {\n    throw err;\n  }\n};\n\nconst services = { fetchLocationData, fetchPollutionData, fetchEnergeyData };\n\nexport default services;\n","import { createGlobalStyle } from 'styled-components';\n\nexport const GlobalStyle = createGlobalStyle`\n  body {\n    background: linear-gradient(#8ac8ff, #298adf) fixed no-repeat;\n    font-family: 'Inder', sans-serif;\n    color: #fff;\n    overflow-x: hidden;\n  }\n  \n  h1 {\n    text-align: center;\n    font-size: 4rem;\n  }\n\n  h2 {\n    font-size: 2rem;\n  }\n\n  h3 {\n    font-size: 1.5rem;\n  }\n\n  h4 {\n    font-size: 1.4rem;\n    font-weight: 500;\n  }\n\n  * {\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n    \n    &:focus {\n      outline: none;\n    }\n  }\n`;\n","import React, { useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport services from '../services/requests';\n\nconst postcodeTest = /^([Gg][Ii][Rr] 0[Aa]{2})|((([A-Za-z][0-9]{1,2})|(([A-Za-z][A-Ha-hJ-Yj-y][0-9]{1,2})|(([A-Za-z][0-9][A-Za-z])|([A-Za-z][A-Ha-hJ-Yj-y][0-9]?[A-Za-z]))))\\s?[0-9][A-Za-z]{2})$/;\n\nconst FormWrapper = styled.div`\n  position: absolute;\n  top: ${props => props.style.top};\n  left: 50%;\n  font-size: ${props => props.style.fontSize};\n  transform: translate(-50%);\n  transition: 1s;\n`;\n\nconst SubmitBtn = styled.button`\n  border: none;\n  background-color: #85d018;\n  color: #fff;\n  padding: 0.3em 0.5em;\n  cursor: pointer;\n  border-radius: 0 35px 35px 0;\n  font-size: 0.8em;\n`;\n\nconst PostcodeInput = styled.input`\n  border: none;\n  padding: 0.6rem 1em;\n  font-size: 1.1em;\n  border-radius: 35px 0 0 35px;\n  width: 6.5em;\n  color: #5c5c5c;\n  caret-color: #8f8f8f;\n`;\n\nconst Error = styled.div`\n  font-size: 0.6em;\n  text-align: center;\n  margin-top: 0.5rem;\n`;\n\nconst PostcodeForm = ({ setLocationData, setSubmitted }) => {\n  const inputRef = useRef(null);\n  const [error, setError] = useState('');\n  const [postcode, setPostcode] = useState('');\n  const [formStyle, setFormStyle] = useState({\n    top: '220px',\n    fontSize: '1.8em',\n    width: '200px',\n  });\n\n  useEffect(() => {\n    inputRef.current.focus();\n  }, []);\n\n  const handleChange = e => {\n    setPostcode(e.target.value.toUpperCase());\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      if (!postcodeTest.test(postcode)) {\n        throw 'Please enter a full, valid UK postcode';\n      }\n\n      const data = await services.fetchLocationData(postcode);\n\n      setError('');\n      setFormStyle({\n        top: '40px',\n        fontSize: '1.2em',\n        width: '150px',\n      });\n      setLocationData(data);\n      setSubmitted(true);\n    } catch (err) {\n      console.error(err);\n      setError(err);\n      setTimeout(() => setError(''), 4000);\n    }\n  };\n\n  return (\n    <FormWrapper style={formStyle}>\n      <form\n        style={{\n          display: 'flex',\n          justifyContent: 'center',\n        }}\n        onSubmit={e => handleSubmit(e)}\n        autoComplete=\"off\"\n      >\n        <PostcodeInput\n          ref={inputRef}\n          aria-label=\"post-code\"\n          type=\"text\"\n          name=\"postCode\"\n          placeholder=\"Postcode\"\n          value={postcode}\n          onChange={e => handleChange(e)}\n        />\n        <SubmitBtn>Submit</SubmitBtn>\n      </form>\n      {error && (\n        <Error>\n          <i class=\"fas fa-exclamation-triangle\"></i> <span>{error}</span>\n        </Error>\n      )}\n    </FormWrapper>\n  );\n};\n\nexport default PostcodeForm;\n","import React from \"react\";\nimport styled, { keyframes } from \"styled-components\";\n\nconst loading = keyframes`\n  0% {left: 50%; top: 0px; border-radius: 50% 50% 50% 0;}\n  25% {left: 100%; top: 50%; border-radius: 0 50% 50% 50%;}\n  50% {left: 50%; top: 100%; border-radius: 50% 0 50% 50%;}\n  75% {left: 0%; top: 50%; border-radius: 50% 50% 0 50%; }\n  100% {left: 50%; top: 0px; border-radius: 50% 50% 50% 0;}\n`;\n\nconst LoaderWidget = styled.div`\n  height: 100%;\n  width: 100%;\n\n  & div {\n    width: 20px;\n    height: 20px;\n    background: #fff;\n    position: relative;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    animation: ${loading} 1.8s linear infinite;\n  }\n\n  & div:nth-child(2) {\n    transform: translate(-50%, -150%);\n    animation-delay: -0.9s;\n  }\n`;\n\nconst Loader = () => {\n  return (\n    <div\n      style={{\n        position: \"fixed\",\n        bottom: \"50%\",\n        left: \"50%\",\n        transform: \"translate(-50%)\",\n        textAlign: \"center\",\n      }}\n    >\n      <div\n        style={{\n          width: \"100px\",\n          height: \"100px\",\n          margin: \"auto\",\n        }}\n      >\n        <LoaderWidget>\n          <div />\n          <div />\n        </LoaderWidget>\n      </div>\n      <div style={{ marginTop: \"40px\", fontSize: \"1.4rem\" }}>\n        <span>Working on it...</span>\n      </div>\n    </div>\n  );\n};\n\nexport default Loader;\n","import React from 'react';\n\nconst Logo = props => {\n  return (\n    <div\n      style={{\n        position: props.submitted ? 'block' : 'absolute',\n        top: props.submitted ? '0' : '100px',\n        left: props.submitted ? '5%' : '50%',\n        width: props.submitted ? 'auto' : '100%',\n        transform: props.submitted ? '' : 'translate(-50%)',\n        transition: '1s',\n        display: 'inline-block',\n      }}\n    >\n      <h1\n        style={{\n          fontFamily: \"'Heebo', sans-serif\",\n          fontSize: props.submitted ? '2em' : '4em',\n          cursor: 'default',\n        }}\n      >\n        <span style={{ color: '#b9f414' }}>green</span> vitals\n      </h1>\n    </div>\n  );\n};\n\nexport default Logo;\n","import React from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\nimport styled, { keyframes } from \"styled-components\";\n\nconst Wrapper = styled.div`\n  height: 570px;\n  width: 400px;\n  overflow: hidden;\n  box-sizing: content-box;\n  transition: 1.5s;\n  align-self: ${(props) => (props.isMobile ? \"center\" : \"flex-end\")};\n  position: relative;\n  top: ${(props) => (props.show ? \"100vh\" : \"0\")};\n\n  :after {\n    content: \"\";\n    display: block;\n    width: 400px;\n    height: 400px;\n    background: linear-gradient(#d3ff84, #3e7e00);\n    position: relative;\n    bottom: -30px;\n    border-radius: 50%;\n  }\n`;\n\nconst Stem = styled.div`\n  height: 280px;\n  width: 17px;\n  background: linear-gradient(to left, #b1b1b1, #fff);\n  position: absolute;\n  left: 50%;\n  transform: translate(-50%);\n  top: 34%;\n  z-index: 2;\n  border-radius: 0 0 20px 20px;\n`;\n\nconst spin = keyframes`\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n`;\n\nconst BladeWrapper = styled.div`\n  position: relative;\n  height: 400px;\n  width: 100%;\n  left: 0;\n  z-index: 3;\n  animation: ${spin} 3.1s linear infinite;\n\n  :before {\n    content: \"\";\n    display: block;\n    width: 35px;\n    height: 35px;\n    border-radius: 50%;\n    position: relative;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    background: radial-gradient(#fff, #f1f1f1, #b1b1b1);\n    box-sizing: border-box;\n  }\n`;\n\nconst Blade = styled.div`\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 37px 0 158px 16px;\n  border-color: transparent transparent transparent #fff;\n  position: absolute;\n  top: ${(props) => props.top};\n  left: ${(props) => props.left};\n  transform: rotate(${(props) => props.rotation}deg);\n  z-index: -1;\n`;\n\nconst Windmill = (props) => {\n  const isMobile = useMediaQuery({ maxWidth: \"700px\" });\n  return (\n    <Wrapper show={props.loading} isMobile={isMobile}>\n      <BladeWrapper>\n        <Blade top=\"50%\" left=\"50%\" rotation={\"0\"} />\n        <Blade top=\"61px\" left=\"105px\" rotation={\"120\"} />\n        <Blade top=\"47px\" left=\"272px\" rotation={\"240\"} />\n      </BladeWrapper>\n      <Stem />\n    </Wrapper>\n  );\n};\n\nexport default Windmill;\n","import React, { useEffect, useRef } from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\n\nconst PieChart = ({ data, chartColours }) => {\n  const isMobile = useMediaQuery({ maxWidth: 700 });\n  const canvasRef = useRef(null);\n\n  useEffect(() => {\n    const ctx = canvasRef.current.getContext(\"2d\");\n    generatePie(ctx);\n  }, [data, isMobile]);\n\n  const generatePie = (ctx) => {\n    clearCanvas(ctx);\n\n    let accum = 0;\n    data.forEach((obj) => {\n      drawSlice(ctx, accum, obj);\n      accum += obj.radians;\n    });\n  };\n\n  const drawSlice = (ctx, arcStart, obj) => {\n    // Draw arcs\n    const { label, value, radians } = obj;\n    const canvas = canvasRef.current;\n    const [centerX, centerY] = [canvas.width / 2, canvas.height / 2];\n    const radius = (canvas.width / 2) * 0.5;\n    const arcEnd = arcStart + radians;\n\n    ctx.beginPath();\n    ctx.moveTo(centerX, centerY);\n    ctx.arc(centerX, centerY, radius, arcStart, arcEnd, false);\n    ctx.closePath();\n    ctx.fillStyle = chartColours[label];\n    ctx.fill();\n\n    // Draw labels\n    const midPoint = arcStart + (arcEnd - arcStart) / 2;\n    const labelPos = radius * 1.1;\n    const labelX = centerX + labelPos * Math.cos(midPoint);\n    const labelY = centerY + labelPos * Math.sin(midPoint);\n\n    ctx.font = \".9rem arial\";\n    ctx.fontWeight = \"400\";\n    ctx.fillStyle = \"#fff\";\n    ctx.textAlign = labelX < centerX ? \"right\" : \"left\";\n    ctx.fillText(`${label}: ${value}%`, labelX, labelY);\n  };\n\n  const clearCanvas = (ctx) => {\n    const canvas = canvasRef.current;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n  };\n\n  return (\n    <div>\n      <canvas\n        ref={canvasRef}\n        width=\"520\"\n        height=\"400\"\n        style={{ width: isMobile ? \"100%\" : \"auto\" }}\n      ></canvas>\n    </div>\n  );\n};\n\nexport default PieChart;\n","import React, { Fragment } from \"react\";\nimport { capitalize } from \"lodash\";\nimport { useMediaQuery } from \"react-responsive\";\n\nconst Table = ({ data, headings }) => {\n  const isMobile = useMediaQuery({ maxWidth: 800 });\n  return (\n    <div\n      style={{\n        display: \"grid\",\n        gridTemplateColumns: \"1fr 1fr\",\n        width: isMobile ? \"90%\" : \"30%\",\n        margin: \"0 .5rem\",\n      }}\n    >\n      <div>\n        <h4>{headings[0]}</h4>\n      </div>\n      <div style={{ textAlign: \"right\" }}>\n        <h4>{headings[1]}</h4>\n      </div>\n      {data.map((value) => (\n        <Fragment>\n          <div>{capitalize(value[0])}</div>\n          <div style={{ textAlign: \"right\" }}>{value[1]}</div>\n        </Fragment>\n      ))}\n    </div>\n  );\n};\n\nexport default Table;\n","import React from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\n\nconst DataContainer = ({ children }) => {\n  const isMobile = useMediaQuery({ maxWidth: 800 });\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: isMobile ? \"column\" : \"row\",\n        justifyContent: isMobile ? \"center\" : \"space-between\",\n        alignItems: isMobile ? \"center\" : \"stretch\",\n      }}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default DataContainer;\n","import React, { useCallback } from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\nimport styled, { keyframes } from \"styled-components\";\nimport PieChart from \"../charts/PieChart\";\nimport Table from \"../charts/Table\";\nimport DataContainer from \"../layout/DataContainer\";\n\nconst chartColours = {\n  biomass: \"#79db88\",\n  solar: \"#ffb555\",\n  wind: \"#a8d6ff\",\n  hydro: \"#00abff\",\n  coal: \"#443636\",\n  nuclear: \"#5de6c6\",\n  imports: \"#e65d5d\",\n  gas: \"#8d7cdf\",\n  other: \"#eb2bee\",\n};\n\nconst enterRight = keyframes`\n  0% {margin-left: -100vw;}\n  100% {margin: 0;} \n`;\n\nconst EnergyWrapper = styled.section`\n  border-top: 1px solid #fff;\n  padding: 0.5rem 0;\n  animation: ${enterRight};\n  animation-duration: 0.5s;\n  animation-iteration-count: 1;\n  animation-timing-function: ease-out;\n`;\n\nconst EnergyData = ({ data }) => {\n  const isMobile = useMediaQuery({ maxWidth: 700 });\n  const chartData = useCallback(() => {\n    const filteredData = data.generationmix.filter((obj) => obj.perc > 0.5);\n    const total = filteredData.reduce((count, obj) => count + obj.perc, 0);\n    const formattedData = filteredData.map((obj) => {\n      return {\n        value: obj.perc,\n        label: obj.fuel,\n        radians: (obj.perc / total) * (Math.PI * 2),\n      };\n    });\n    return formattedData;\n  }, [data]);\n\n  const tableData = useCallback(() => {\n    return data.generationmix\n      .sort((a, b) => a.perc < b.perc)\n      .map((fuel) => [fuel.fuel, fuel.perc]);\n  }, [data]);\n\n  return (\n    <EnergyWrapper>\n      <header style={{ textAlign: \"center\" }}>\n        <h3>Energy Overview</h3>\n        <p>\n          Carbon Intensity:{\" \"}\n          {`${data.intensity.forecast} (${data.intensity.index})`}\n        </p>\n      </header>\n      <DataContainer>\n        <Table\n          headings={[\"Fuel source\", \"%\"]}\n          data={tableData()}\n          style={{ order: isMobile ? \"2\" : \"0\" }}\n        />\n        <PieChart data={chartData()} chartColours={chartColours} />\n      </DataContainer>\n    </EnergyWrapper>\n  );\n};\n\nexport default EnergyData;\n","import React, { useEffect, useRef } from 'react';\nimport { useMediaQuery } from 'react-responsive';\n\nconst BarChart = ({ data, colours }) => {\n  const isMobile = useMediaQuery({ maxWidth: 700 });\n\n  const canvasRef = useRef(null);\n  const BAR_WIDTH = 60;\n  const BAR_GAP = 10;\n  const LABEL_PADDING = 30;\n  const TOP_PADDING = 30;\n  const MAX_VALUE = data.reduce(\n    (max, obj) => (obj.value > max ? Math.ceil(obj.value / 10) * 10 : max),\n    0\n  );\n\n  useEffect(() => {\n    const ctx = canvasRef.current.getContext('2d');\n\n    generateChart(ctx);\n  }, [data, isMobile]);\n\n  const generateChart = ctx => {\n    clearCanvas(ctx);\n    const chartWidth = BAR_GAP + (BAR_WIDTH + BAR_GAP) * data.length;\n    const chartHeight = canvasRef.current.height - LABEL_PADDING - TOP_PADDING;\n    ctx.font = '.9rem arial';\n    ctx.fontWeight = '400';\n    ctx.fillStyle = '#fff';\n    ctx.strokeStyle = '#fff';\n    ctx.textAlign = 'right';\n\n    // Draw X Axis\n    ctx.beginPath();\n    ctx.moveTo(LABEL_PADDING, chartHeight + TOP_PADDING);\n    ctx.lineTo(chartWidth + 25, chartHeight + TOP_PADDING);\n    ctx.stroke();\n\n    // Draw Y Axis\n    ctx.beginPath();\n    ctx.moveTo(LABEL_PADDING, TOP_PADDING);\n    ctx.lineTo(LABEL_PADDING, chartHeight + TOP_PADDING);\n    ctx.stroke();\n\n    // Draw Y values\n    for (let i = 1; i >= 0; i -= 0.1) {\n      const value = Math.round(MAX_VALUE * i);\n      const valueY = chartHeight + TOP_PADDING - chartHeight * i;\n      ctx.fillText(value, 25, valueY);\n    }\n\n    // Draw bars\n    let accum = BAR_GAP + LABEL_PADDING;\n    data.forEach(obj => {\n      drawBar(ctx, chartHeight, accum, obj);\n      accum += BAR_WIDTH + BAR_GAP;\n    });\n  };\n\n  const drawBar = (ctx, chartHeight, accum, obj) => {\n    const canvas = canvasRef.current;\n    const barProportion = (obj.value / MAX_VALUE) * 100;\n    const barHeight = (barProportion / 100) * chartHeight;\n    const rectX = accum;\n    const rectY = canvas.height - (barHeight + LABEL_PADDING);\n\n    // Draw bar\n    ctx.fillStyle = colours[obj.label];\n    ctx.fillRect(rectX, rectY, BAR_WIDTH, barHeight);\n\n    // Draw label\n    const labelX = rectX + BAR_WIDTH / 2;\n    const labelY = rectY + barHeight + 20;\n\n    ctx.textAlign = 'center';\n    ctx.fillStyle = '#fff';\n    ctx.fillText(`${obj.label}`, labelX, labelY);\n  };\n\n  const clearCanvas = ctx => {\n    const canvas = canvasRef.current;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n  };\n\n  return (\n    <canvas\n      ref={canvasRef}\n      width=\"550\"\n      height=\"400\"\n      style={{ width: isMobile ? '100%' : 'auto' }}\n    ></canvas>\n  );\n};\n\nexport default BarChart;\n","import React, { useCallback } from \"react\";\nimport BarChart from \"../charts/BarChart\";\nimport Table from \"../charts/Table\";\nimport DataContainer from \"../layout/DataContainer\";\nimport styled, { keyframes } from \"styled-components\";\n\nconst barColours = {\n  no: \"#79db88\",\n  no2: \"#ffb555\",\n  o3: \"#a8d6ff\",\n  so2: \"#0a5e80\",\n  pm2_5: \"#443636\",\n  pm10: \"#a166f7\",\n  nh3: \"#e65d5d\",\n};\n\nconst airIndex = {\n  1: \"Good\",\n  2: \"Fair\",\n  3: \"Moderate\",\n  4: \"Poor\",\n  5: \"Very Poor\",\n};\n\nconst pollutantIndex = {\n  co: \"Carbon monoxide\",\n  no: \"Nitrous oxide\",\n  no2: \"Nitrous dioxide\",\n  o3: \"Ozone\",\n  so2: \"Sulphur dioxide\",\n  pm2_5: \"Fine particulates\",\n  pm10: \"Coarse particulates\",\n  nh3: \"Ammonia\",\n};\n\nconst enterLeft = keyframes`\n  0% {margin-right: -100vw;}\n  100% {margin: 0;} \n`;\n\nconst PollutionWrapper = styled.section`\n  border-top: 1px solid #fff;\n  padding: 0.5rem 0;\n  animation: ${enterLeft};\n  animation-duration: 0.5s;\n  animation-iteration-count: 1;\n  animation-timing-function: ease-out;\n`;\n\nconst PollutionData = ({ data }) => {\n  const chartData = useCallback(() => {\n    return Object.keys(data.components)\n      .filter((key) => key !== \"co\" && key !== \"o3\")\n      .map((key) => ({\n        label: key,\n        value: data.components[key],\n      }))\n      .sort((a, b) => a.value < b.value);\n  }, [data]);\n\n  const tableData = useCallback(() => {\n    return Object.entries(data.components).map(([pollutant, value]) => [\n      pollutantIndex[pollutant],\n      value,\n    ]);\n  }, [data]);\n\n  return (\n    <PollutionWrapper>\n      <header style={{ textAlign: \"center\" }}>\n        <h3>Pollution Overview</h3>\n        <p>\n          Air Quality Index: {`${data.main.aqi} (${airIndex[data.main.aqi]})`}\n        </p>\n      </header>\n      <DataContainer>\n        <BarChart data={chartData()} colours={barColours} />\n        <Table headings={[\"Pollutant\", \"μg/m³\"]} data={tableData()} />\n      </DataContainer>\n    </PollutionWrapper>\n  );\n};\n\nexport default PollutionData;\n","import React, { Fragment } from \"react\";\nimport EnergyData from \"../energy-data/EnergyData\";\nimport PollutionData from \"../pollution-data/PollutionData\";\n\nconst MainContent = ({ data, location }) => {\n  return (\n    <div style={{ marginTop: \"140px\" }}>\n      {data && (\n        <Fragment>\n          <h2 style={{ marginLeft: \"1rem\" }}>{location}</h2>\n          <EnergyData data={data.energyData} />\n          <PollutionData data={data.pollutionData} />\n        </Fragment>\n      )}\n    </div>\n  );\n};\n\nexport default MainContent;\n","import React, { useEffect, useState } from 'react';\nimport services from './services/requests';\nimport { GlobalStyle } from './GlobalStyle';\nimport PostcodeForm from './components/PostcodeForm';\nimport Loader from './components/utils/Loader';\nimport Logo from './components/layout/Logo';\nimport Windmill from './components/Windmill';\nimport styled from 'styled-components';\nimport MainContent from './components/layout/MainContent';\nimport { useMediaQuery } from 'react-responsive';\n\nconst MainWrapper = styled.div`\n  max-width: 1100px;\n  margin: auto;\n`;\n\nconst MainContentWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: 0 auto;\n  align-content: center;\n  justify-content: space-between;\n  min-height: 100vh;\n`;\n\nconst App = () => {\n  const isMobile = useMediaQuery({ maxWidth: 700 });\n  const [loading, setLoading] = useState(false);\n  const [submitted, setSubmitted] = useState(false);\n  const [locationData, setLocationData] = useState();\n  const [data, setData] = useState();\n\n  useEffect(() => {\n    if (locationData) {\n      fetchData();\n    }\n  }, [submitted, locationData]);\n\n  const fetchData = async () => {\n    try {\n      setLoading(true);\n\n      const { outcode, latitude, longitude } = locationData;\n\n      const [pollutionData, energyData] = await Promise.all([\n        services.fetchPollutionData(latitude, longitude),\n        services.fetchEnergeyData(outcode),\n      ]);\n\n      setData({ energyData, pollutionData });\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <MainWrapper>\n      <GlobalStyle />\n      {loading && <Loader />}\n      <div style={{ fontSize: isMobile ? '.8rem' : '1rem' }}>\n        <Logo submitted={submitted} />\n        <PostcodeForm\n          setLocationData={setLocationData}\n          setSubmitted={setSubmitted}\n        />\n      </div>\n      <MainContentWrapper>\n        <MainContent data={data} location={locationData?.admin_district} />\n        {!isMobile && <Windmill loading={loading} />}\n      </MainContentWrapper>\n    </MainWrapper>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}