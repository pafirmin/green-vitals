{"version":3,"sources":["services/requests.js","GlobalStyle.js","components/PostCodeForm.js","components/charts/PieChart.js","components/charts/Table.js","components/layout/DataContainer.js","components/energy-data/EnergyData.js","components/utils/Loader.js","components/charts/BarChart.js","components/pollution-data/PollutionData.js","components/layout/Logo.js","components/Windmill.js","App.js","index.js"],"names":["fetchLocationData","postcode","a","formattedPostcode","replace","axios","get","res","data","result","admin_district","outcode","latitude","longitude","fetchEnergeyData","date","Date","toISOString","services","fetchPollutionData","lat","long","process","list","GlobalStyle","createGlobalStyle","postcodeTest","FormWrapper","styled","div","props","style","top","fontSize","SubmitBtn","button","PostcodeInput","input","Error","PostCodeForm","setLocationData","setSubmitted","inputRef","useRef","useState","error","setError","setPostcode","width","formStyle","setFormStyle","useEffect","current","focus","handleSubmit","e","preventDefault","test","console","setTimeout","display","justifyContent","onSubmit","autoComplete","ref","aria-label","type","name","placeholder","value","onChange","target","toUpperCase","handleChange","class","PieChart","chartColours","canvasRef","ctx","getContext","generatePie","clearCanvas","accum","forEach","obj","drawSlice","radians","arcStart","label","canvas","centerX","centerY","height","radius","arcEnd","beginPath","moveTo","arc","closePath","fillStyle","fill","midPoint","labelPos","labelX","Math","cos","labelY","sin","font","fontWeight","textAlign","fillText","clearRect","Table","headings","isMobile","useMediaQuery","maxWidth","gridTemplateColumns","margin","map","capitalize","DataContainer","children","flexDirection","alignItems","biomass","solar","wind","hydro","coal","nuclear","imports","gas","other","enterRight","keyframes","EnergyWrapper","section","EnergyData","chartData","useCallback","filteredData","generationmix","filter","perc","total","reduce","count","fuel","PI","tableData","sort","b","intensity","forecast","index","loading","LoaderWidget","Loader","position","bottom","left","transform","marginTop","BarChart","colours","MAX_VALUE","max","ceil","LABEL_PADDING","generateChart","chartWidth","length","chartHeight","strokeStyle","lineTo","stroke","i","round","valueY","BAR_GAP","drawBar","BAR_WIDTH","barHeight","rectX","rectY","fillRect","barColours","no","no2","o3","so2","pm2_5","pm10","nh3","airIndex","1","2","3","4","5","pollutantIndex","co","enterLeft","PollutionWrapper","PollutionData","Object","keys","components","key","entries","pollutant","main","aqi","Logo","submitted","transition","fontFamily","color","Wrapper","show","Stem","spin","BladeWrapper","Blade","rotation","Windmill","App","setLoading","energyData","setEnergyData","pollutionData","setPollutionData","locationData","fetchData","Promise","all","pollutionRes","energyRes","marginLeft","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.63b6c882.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst fetchLocationData = async (postcode) => {\n  try {\n    const formattedPostcode = postcode.replace(/\\s/g, \"\");\n\n    const res = await axios.get(\n      `https://api.postcodes.io/postcodes/${formattedPostcode}`\n    );\n\n    const { admin_district, outcode, latitude, longitude } = res.data.result;\n\n    return {\n      admin_district,\n      outcode,\n      latitude,\n      longitude,\n    };\n  } catch (err) {\n    throw err;\n  }\n};\n\nconst fetchEnergeyData = async (outcode) => {\n  try {\n    const date = new Date().toISOString();\n\n    const res = await axios.get(\n      `https://api.carbonintensity.org.uk/regional/intensity/${date}/fw48h/postcode/${outcode}`\n    );\n\n    return res.data.data.data[0];\n  } catch (err) {\n    throw err;\n  }\n};\n\nconst fetchPollutionData = async (lat, long) => {\n  try {\n    const res = await axios.get(\n      `https://cors-anywhere.herokuapp.com/http://api.openweathermap.org/data/2.5/air_pollution?lat=${lat}&lon=${long}&appid=${process.env.REACT_APP_API_KEY}`\n    );\n\n    return res.data.list[0];\n  } catch (err) {\n    throw err;\n  }\n};\n\nconst services = { fetchLocationData, fetchPollutionData, fetchEnergeyData };\n\nexport default services;\n","import { createGlobalStyle } from \"styled-components\";\n\nexport const GlobalStyle = createGlobalStyle`\n  body {\n    background: linear-gradient(#70b5f2, #298adf) fixed no-repeat;\n    font-family: 'Inder', sans-serif;\n    color: #fff;\n  }\n  \n  h1 {\n    text-align: center;\n    font-size: 4rem;\n  }\n\n  h2 {\n    font-size: 2rem;\n  }\n\n  h3 {\n    font-size: 1.5rem;\n  }\n\n  h4 {\n    font-size: 1.4rem;\n    font-weight: 500;\n  }\n\n  * {\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n  }\n`;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport services from \"../services/requests\";\n\nconst postcodeTest = /^([Gg][Ii][Rr] 0[Aa]{2})|((([A-Za-z][0-9]{1,2})|(([A-Za-z][A-Ha-hJ-Yj-y][0-9]{1,2})|(([A-Za-z][0-9][A-Za-z])|([A-Za-z][A-Ha-hJ-Yj-y][0-9]?[A-Za-z]))))\\s?[0-9][A-Za-z]{2})$/;\n\nconst FormWrapper = styled.div`\n  position: absolute;\n  top: ${(props) => props.style.top};\n  left: 50%;\n  font-size: ${(props) => props.style.fontSize};\n  transform: translate(-50%);\n  transition: 1s;\n`;\n\nconst SubmitBtn = styled.button`\n  border: none;\n  background-color: #85d018;\n  color: #fff;\n  padding: 0.3em 0.5em;\n  cursor: pointer;\n  border-radius: 0 35px 35px 0;\n  font-size: 0.8em;\n`;\n\nconst PostcodeInput = styled.input`\n  border: none;\n  padding: 0.6rem 1em;\n  font-size: 1.1em;\n  border-radius: 35px 0 0 35px;\n  width: 6.5em;\n  color: #5c5c5c;\n  caret-color: #8f8f8f;\n`;\n\nconst Error = styled.div`\n  font-size: 0.6em;\n  text-align: center;\n  margin-top: 0.5rem;\n`;\n\nconst PostCodeForm = ({ setLocationData, setSubmitted }) => {\n  const inputRef = useRef(null);\n  const [error, setError] = useState(\"\");\n  const [postcode, setPostcode] = useState(\"\");\n  const [formStyle, setFormStyle] = useState({\n    top: \"30vh\",\n    fontSize: \"1.8rem\",\n    width: \"200px\",\n  });\n\n  useEffect(() => {\n    inputRef.current.focus();\n  }, []);\n\n  const handleChange = (e) => {\n    setPostcode(e.target.value.toUpperCase());\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      if (!postcodeTest.test(postcode)) {\n        throw \"Please enter a full, valid UK postcode\";\n      }\n\n      const data = await services.fetchLocationData(postcode);\n\n      setError(\"\");\n      setFormStyle({\n        top: \"40px\",\n        fontSize: \"1.2rem\",\n        width: \"150px\",\n      });\n      setLocationData(data);\n      setSubmitted(true);\n    } catch (err) {\n      console.error(err);\n      setError(err);\n      setTimeout(() => setError(\"\"), 4000);\n    }\n  };\n\n  return (\n    <FormWrapper style={formStyle}>\n      <form\n        style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n        }}\n        onSubmit={(e) => handleSubmit(e)}\n        autoComplete=\"off\"\n      >\n        <PostcodeInput\n          ref={inputRef}\n          aria-label=\"post-code\"\n          type=\"text\"\n          name=\"postCode\"\n          placeholder=\"Postcode\"\n          value={postcode}\n          onChange={(e) => handleChange(e)}\n        ></PostcodeInput>\n        <SubmitBtn>Submit</SubmitBtn>\n      </form>\n      {error && (\n        <Error>\n          <i class=\"fas fa-exclamation-triangle\"></i> <span>{error}</span>\n        </Error>\n      )}\n    </FormWrapper>\n  );\n};\n\nexport default PostCodeForm;\n","import React, { useEffect, useRef } from \"react\";\n\nconst PieChart = ({ data, chartColours }) => {\n  const canvasRef = useRef(null);\n\n  useEffect(() => {\n    const ctx = canvasRef.current.getContext(\"2d\");\n    generatePie(ctx);\n  }, [data]);\n\n  const generatePie = (ctx) => {\n    clearCanvas(ctx);\n\n    let accum = 0;\n    data.forEach((obj) => {\n      drawSlice(ctx, accum, obj);\n      accum += obj.radians;\n    });\n  };\n\n  const drawSlice = (ctx, arcStart, obj) => {\n    // Draw arcs\n    const { label, value, radians } = obj;\n    const canvas = canvasRef.current;\n    const [centerX, centerY] = [canvas.width / 2, canvas.height / 2];\n    const radius = (canvas.height / 2) * 0.75;\n    const arcEnd = arcStart + radians;\n\n    ctx.beginPath();\n    ctx.moveTo(centerX, centerY);\n    ctx.arc(centerX, centerY, radius, arcStart, arcEnd, false);\n    ctx.closePath();\n    ctx.fillStyle = chartColours[label];\n    ctx.fill();\n\n    // Draw labels\n    const midPoint = arcStart + (arcEnd - arcStart) / 2;\n    const labelPos = radius * 1.1;\n    const labelX = centerX + labelPos * Math.cos(midPoint);\n    const labelY = centerY + labelPos * Math.sin(midPoint);\n\n    ctx.font = \".9rem arial\";\n    ctx.fontWeight = \"400\";\n    ctx.fillStyle = \"#fff\";\n    ctx.textAlign = labelX < centerX ? \"right\" : \"left\";\n    ctx.fillText(`${label}: ${value}%`, labelX, labelY);\n  };\n\n  const clearCanvas = (ctx) => {\n    const canvas = canvasRef.current;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n  };\n\n  return (\n    <div>\n      <canvas ref={canvasRef} width=\"520\" height=\"400\"></canvas>\n    </div>\n  );\n};\n\nexport default PieChart;\n","import React, { Fragment } from \"react\";\nimport { capitalize } from \"lodash\";\nimport { useMediaQuery } from \"react-responsive\";\n\nconst Table = ({ data, headings }) => {\n  const isMobile = useMediaQuery({ maxWidth: 800 });\n  return (\n    <div\n      style={{\n        display: \"grid\",\n        gridTemplateColumns: \"1fr 1fr\",\n        width: isMobile ? \"80%\" : \"30%\",\n        margin: \"0 .5rem\",\n      }}\n    >\n      <div>\n        <h4>{headings[0]}</h4>\n      </div>\n      <div style={{ textAlign: \"right\" }}>\n        <h4>{headings[1]}</h4>\n      </div>\n      {data.map((value) => (\n        <Fragment>\n          <div>{capitalize(value[0])}</div>\n          <div style={{ textAlign: \"right\" }}>{value[1]}</div>\n        </Fragment>\n      ))}\n    </div>\n  );\n};\n\nexport default Table;\n","import React from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\n\nconst DataContainer = ({ children }) => {\n  const isMobile = useMediaQuery({ maxWidth: 800 });\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: isMobile ? \"column\" : \"row\",\n        justifyContent: isMobile ? \"center\" : \"space-between\",\n        alignItems: isMobile ? \"center\" : \"stretch\",\n      }}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default DataContainer;\n","import React, { useCallback } from \"react\";\nimport styled, { keyframes } from \"styled-components\";\nimport PieChart from \"../charts/PieChart\";\nimport Table from \"../charts/Table\";\nimport DataContainer from \"../layout/DataContainer\";\n\nconst chartColours = {\n  biomass: \"#79db88\",\n  solar: \"#ffb555\",\n  wind: \"#a8d6ff\",\n  hydro: \"#00abff\",\n  coal: \"#443636\",\n  nuclear: \"#5de6c6\",\n  imports: \"#e65d5d\",\n  gas: \"#8d7cdf\",\n  other: \"#eb2bee\",\n};\n\nconst enterRight = keyframes`\n  0% {margin-left: -100vw;}\n  100% {margin: 0;} \n`;\n\nconst EnergyWrapper = styled.section`\n  border-top: 1px solid #fff;\n  padding: 0.5rem 0;\n  animation: ${enterRight};\n  animation-duration: 0.5s;\n  animation-iteration-count: 1;\n  animation-timing-function: ease-out;\n`;\n\nconst EnergyData = ({ data }) => {\n  const chartData = useCallback(() => {\n    const filteredData = data.generationmix.filter((obj) => obj.perc > 0.5);\n    const total = filteredData.reduce((count, obj) => count + obj.perc, 0);\n    const formattedData = filteredData.map((obj) => {\n      return {\n        value: obj.perc,\n        label: obj.fuel,\n        radians: (obj.perc / total) * (Math.PI * 2),\n      };\n    });\n    return formattedData;\n  }, [data]);\n\n  const tableData = useCallback(() => {\n    return data.generationmix\n      .sort((a, b) => a.perc < b.perc)\n      .map((fuel) => [fuel.fuel, fuel.perc]);\n  }, [data]);\n\n  return (\n    <EnergyWrapper>\n      <header style={{ textAlign: \"center\" }}>\n        <h3>Energy Overview</h3>\n        <p>\n          Carbon Intensity:{\" \"}\n          {`${data.intensity.forecast} (${data.intensity.index})`}\n        </p>\n      </header>\n      <DataContainer>\n        <Table headings={[\"Fuel source\", \"%\"]} data={tableData()} />\n        <PieChart data={chartData()} chartColours={chartColours} />\n      </DataContainer>\n    </EnergyWrapper>\n  );\n};\n\nexport default EnergyData;\n","import React from \"react\";\nimport styled, { keyframes } from \"styled-components\";\n\nconst loading = keyframes`\n  0% {left: 50%; top: 0px; border-radius: 50% 50% 50% 0;}\n  25% {left: 100%; top: 50%; border-radius: 0 50% 50% 50%;}\n  50% {left: 50%; top: 100%; border-radius: 50% 0 50% 50%;}\n  75% {left: 0%; top: 50%; border-radius: 50% 50% 0 50%; }\n  100% {left: 50%; top: 0px; border-radius: 50% 50% 50% 0;}\n`;\n\nconst LoaderWidget = styled.div`\n  height: 100%;\n  width: 100%;\n\n  & div {\n    width: 20px;\n    height: 20px;\n    background: #fff;\n    position: relative;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    animation: ${loading} 1.8s linear infinite;\n  }\n\n  & div:nth-child(2) {\n    transform: translate(-50%, -150%);\n    animation-delay: -0.9s;\n  }\n`;\n\nconst Loader = () => {\n  return (\n    <div\n      style={{\n        position: \"fixed\",\n        bottom: \"50%\",\n        left: \"50%\",\n        transform: \"translate(-50%)\",\n        textAlign: \"center\",\n      }}\n    >\n      <div\n        style={{\n          width: \"100px\",\n          height: \"100px\",\n          margin: \"auto\",\n        }}\n      >\n        <LoaderWidget>\n          <div />\n          <div />\n        </LoaderWidget>\n      </div>\n      <div style={{ marginTop: \"40px\", fontSize: \"1.4rem\" }}>\n        <span>Working on it...</span>\n      </div>\n    </div>\n  );\n};\n\nexport default Loader;\n","import React, { useEffect, useRef } from \"react\";\n\nconst BarChart = ({ data, colours }) => {\n  const canvasRef = useRef(null);\n  const BAR_WIDTH = 60;\n  const BAR_GAP = 10;\n  const MAX_VALUE = data.reduce(\n    (max, obj) =>\n      obj.value > max ? Math.ceil(((obj.value + 1) / 10) * 10) : max,\n    0\n  );\n  const LABEL_PADDING = 30;\n\n  useEffect(() => {\n    const ctx = canvasRef.current.getContext(\"2d\");\n\n    generateChart(ctx);\n  }, [data]);\n\n  const generateChart = (ctx) => {\n    clearCanvas(ctx);\n    const chartWidth = BAR_GAP + (BAR_WIDTH + BAR_GAP) * data.length;\n    const chartHeight = canvasRef.current.height - LABEL_PADDING;\n    ctx.font = \".9rem arial\";\n    ctx.fontWeight = \"400\";\n    ctx.fillStyle = \"#fff\";\n    ctx.strokeStyle = \"#fff\";\n    ctx.textAlign = \"right\";\n\n    // Draw X Axis\n    ctx.beginPath();\n    ctx.moveTo(LABEL_PADDING, chartHeight + 1);\n    ctx.lineTo(chartWidth + 25, chartHeight + 1);\n    ctx.stroke();\n\n    // Draw Y Axis\n    ctx.beginPath();\n    ctx.moveTo(LABEL_PADDING, 1);\n    ctx.lineTo(LABEL_PADDING, chartHeight);\n    ctx.stroke();\n\n    // Draw Y values\n    for (let i = 1; i >= 0; i -= 0.15) {\n      const value = Math.round(MAX_VALUE * i);\n      const valueY = chartHeight - chartHeight * i;\n      ctx.fillText(value, 25, valueY);\n    }\n\n    // Draw bars\n    let accum = BAR_GAP + LABEL_PADDING;\n    data.forEach((obj) => {\n      drawBar(ctx, chartHeight, accum, obj);\n      accum += BAR_WIDTH + BAR_GAP;\n    });\n  };\n\n  const drawBar = (ctx, chartHeight, accum, obj) => {\n    const canvas = canvasRef.current;\n    const barProportion = (obj.value / MAX_VALUE) * 100;\n    const barHeight = (barProportion / 100) * chartHeight;\n    const rectX = accum;\n    const rectY = canvas.height - (barHeight + LABEL_PADDING);\n\n    // Draw bar\n    ctx.fillStyle = colours[obj.label];\n    ctx.fillRect(rectX, rectY, BAR_WIDTH, barHeight);\n\n    // Draw label\n    const labelX = rectX + BAR_WIDTH / 2;\n    const labelY = rectY + barHeight + 20;\n\n    ctx.textAlign = \"center\";\n    ctx.fillStyle = \"#fff\";\n    ctx.fillText(`${obj.label}`, labelX, labelY);\n  };\n\n  const clearCanvas = (ctx) => {\n    const canvas = canvasRef.current;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n  };\n\n  return <canvas ref={canvasRef} width=\"520\" height=\"400\"></canvas>;\n};\n\nexport default BarChart;\n","import React, { useCallback } from \"react\";\nimport BarChart from \"../charts/BarChart\";\nimport Table from \"../charts/Table\";\nimport DataContainer from \"../layout/DataContainer\";\nimport styled, { keyframes } from \"styled-components\";\n\nconst barColours = {\n  no: \"#79db88\",\n  no2: \"#ffb555\",\n  o3: \"#a8d6ff\",\n  so2: \"#0a5e80\",\n  pm2_5: \"#443636\",\n  pm10: \"#a166f7\",\n  nh3: \"#e65d5d\",\n};\n\nconst airIndex = {\n  1: \"Good\",\n  2: \"Fair\",\n  3: \"Moderate\",\n  4: \"Poor\",\n  5: \"Very Poor\",\n};\n\nconst pollutantIndex = {\n  co: \"Carbon monnoxide\",\n  no: \"Nitrous oxide\",\n  no2: \"Nitrous dioxide\",\n  o3: \"Ozone\",\n  so2: \"Sulphur dioxide\",\n  pm2_5: \"Fine particulates\",\n  pm10: \"Coarse particulates\",\n  nh3: \"Ammonia\",\n};\n\nconst enterLeft = keyframes`\n  0% {margin-right: -100vw;}\n  100% {margin: 0;} \n`;\n\nconst PollutionWrapper = styled.section`\n  border-top: 1px solid #fff;\n  padding: 0.5rem 0;\n  animation: ${enterLeft};\n  animation-duration: 0.5s;\n  animation-iteration-count: 1;\n  animation-timing-function: ease-out;\n`;\n\nconst PollutionData = ({ data }) => {\n  const chartData = useCallback(() => {\n    return Object.keys(data.components)\n      .filter((key) => key !== \"co\" && key !== \"o3\")\n      .map((key) => ({\n        label: key,\n        value: data.components[key],\n      }))\n      .sort((a, b) => a.value < b.value);\n  }, [data]);\n\n  const tableData = useCallback(() => {\n    return Object.entries(data.components).map(([pollutant, value]) => [\n      pollutantIndex[pollutant],\n      value,\n    ]);\n  }, [data]);\n\n  return (\n    <PollutionWrapper>\n      <header style={{ textAlign: \"center\" }}>\n        <h3>Pollution Overview</h3>\n        <p>\n          Air Quality Index: {`${data.main.aqi} (${airIndex[data.main.aqi]})`}\n        </p>\n      </header>\n      <DataContainer>\n        <BarChart data={chartData()} colours={barColours} />\n        <Table headings={[\"Pollutant\", \"μg/m³\"]} data={tableData()} />\n      </DataContainer>\n    </PollutionWrapper>\n  );\n};\n\nexport default PollutionData;\n","import React from \"react\";\n\nconst Logo = (props) => {\n  return (\n    <div\n      style={{\n        position: props.submitted ? \"block\" : \"absolute\",\n        top: props.submitted ? \"10px\" : \"16vh\",\n        left: props.submitted ? \"60px\" : \"50%\",\n        transform: props.submitted ? \"\" : \"translate(-50%)\",\n        transition: \"1s\",\n      }}\n    >\n      <h1\n        style={{\n          fontFamily: \"'Heebo', sans-serif\",\n          fontSize: props.submitted ? \"2rem\" : \"4rem\",\n        }}\n      >\n        <span style={{ color: \"#b1e326\" }}>Green</span> Vitals\n      </h1>\n    </div>\n  );\n};\n\nexport default Logo;\n","import React from \"react\";\nimport styled, { keyframes } from \"styled-components\";\n\nconst Wrapper = styled.div`\n  height: 600px;\n  width: 400px;\n  position: absolute;\n  overflow: hidden;\n  box-sizing: content-box;\n  top: ${(props) => (props.show ? \"135vh\" : \"40vh\")};\n  left: 50%;\n  transform: translate(-50%);\n  transition: 1.5s;\n\n  :after {\n    content: \"\";\n    display: block;\n    width: 400px;\n    height: 400px;\n    background: linear-gradient(#d3ff84, #3e7e00);\n    position: relative;\n    top: 70%;\n    border-radius: 50%;\n  }\n`;\n\nconst Stem = styled.div`\n  height: 280px;\n  width: 17px;\n  background: linear-gradient(to left, #b1b1b1, #fff);\n  position: absolute;\n  left: 50%;\n  transform: translate(-50%);\n  top: 30%;\n  z-index: 2;\n  border-radius: 0 0 20px 20px;\n\n  :before {\n    content: \"\";\n    display: block;\n    width: 35px;\n    height: 35px;\n    border-radius: 50%;\n    position: relative;\n    top: -15px;\n    left: 0px;\n    transform: translateX(-25%);\n    background: #fff;\n  }\n`;\n\nconst spin = keyframes`\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n`;\n\nconst BladeWrapper = styled.div`\n  position: absolute;\n  height: 400px;\n  width: 400px;\n  top: -20px;\n  animation: ${spin} 2.5s linear infinite;\n  z-index: 3;\n`;\n\nconst Blade = styled.div`\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 37px 0 158px 16px;\n  border-color: transparent transparent transparent #fff;\n  position: relative;\n  top: ${(props) => props.top};\n  left: ${(props) => props.left};\n  z-index: 3;\n  transform: rotate(${(props) => props.rotation}deg);\n`;\n\nconst Windmill = (props) => {\n  return (\n    <Wrapper show={props.submitted}>\n      <BladeWrapper>\n        <Blade top=\"50%\" left=\"200px\" rotation={\"0\"} />\n        <Blade top=\"-130px\" left=\"108px\" rotation={\"120\"} />\n        <Blade top=\"-340px\" left=\"272px\" rotation={\"240\"} />\n      </BladeWrapper>\n      <Stem />\n    </Wrapper>\n  );\n};\n\nexport default Windmill;\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport services from \"./services/requests\";\nimport { GlobalStyle } from \"./GlobalStyle\";\nimport PostCodeForm from \"./components/PostCodeForm\";\nimport EnergyData from \"./components/energy-data/EnergyData\";\nimport Loader from \"./components/utils/Loader\";\nimport PollutionData from \"./components/pollution-data/PollutionData\";\nimport Logo from \"./components/layout/Logo\";\nimport Windmill from \"./components/Windmill\";\n\nconst App = () => {\n  const [loading, setLoading] = useState(false);\n  const [submitted, setSubmitted] = useState(false);\n  const [energyData, setEnergyData] = useState();\n  const [pollutionData, setPollutionData] = useState();\n  const [locationData, setLocationData] = useState({\n    admin_district: \"\",\n    outcode: \"\",\n    latitude: \"\",\n    longitude: \"\",\n  });\n\n  useEffect(() => {\n    if (submitted) {\n      fetchData();\n    }\n  }, [submitted, locationData]);\n\n  const fetchData = async () => {\n    try {\n      setLoading(true);\n\n      const { outcode, latitude, longitude } = locationData;\n\n      const [pollutionRes, energyRes] = await Promise.all([\n        services.fetchPollutionData(latitude, longitude),\n        services.fetchEnergeyData(outcode),\n      ]);\n\n      setEnergyData(energyRes);\n      setPollutionData(pollutionRes);\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Fragment>\n      <GlobalStyle />\n      {loading && <Loader />}\n      <div style={{ maxWidth: \"1100px\", margin: \"auto\" }}>\n        <div style={{ display: \"flex\", alignItems: \"center\" }}>\n          <Logo submitted={submitted} />\n          <PostCodeForm\n            setLocationData={setLocationData}\n            setSubmitted={setSubmitted}\n          />\n        </div>\n        <div style={{ margin: \"120px auto 0 auto\" }}>\n          {!loading && (\n            <h2 style={{ marginLeft: \"1rem\" }}>\n              {locationData.admin_district}\n            </h2>\n          )}\n          {!loading && energyData && <EnergyData data={energyData} />}\n          {!loading && pollutionData && <PollutionData data={pollutionData} />}\n        </div>\n        <Windmill submitted={submitted} />\n      </div>\n    </Fragment>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}