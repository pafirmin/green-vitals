{"version":3,"sources":["services/requests.js","GlobalStyle.js","components/PostCodeForm.js","components/charts/PieChart.js","components/charts/Table.js","components/layout/DataContainer.js","components/energy-data/EnergyData.js","components/utils/Loader.js","components/charts/BarChart.js","components/pollution-data/PollutionData.js","components/layout/Logo.js","components/Windmill.js","App.js","index.js"],"names":["fetchLocationData","postcode","a","formattedPostcode","replace","axios","get","res","data","result","admin_district","outcode","latitude","longitude","fetchEnergeyData","date","Date","toISOString","console","log","services","fetchPollutionData","lat","long","process","list","GlobalStyle","createGlobalStyle","postcodeTest","FormWrapper","styled","div","props","style","top","fontSize","SubmitBtn","button","PostcodeInput","input","Error","PostCodeForm","setLocationData","setSubmitted","inputRef","useRef","useState","error","setError","setPostcode","width","formStyle","setFormStyle","useEffect","current","focus","handleSubmit","e","preventDefault","test","setTimeout","display","justifyContent","onSubmit","autoComplete","ref","aria-label","type","name","placeholder","value","onChange","target","toUpperCase","handleChange","class","PieChart","chartColours","canvasRef","ctx","getContext","generatePie","clearCanvas","accum","forEach","obj","drawSlice","radians","arcStart","label","canvas","centerX","centerY","height","radius","arcEnd","beginPath","moveTo","arc","closePath","fillStyle","fill","midPoint","labelPos","labelX","Math","cos","labelY","sin","font","fontWeight","textAlign","fillText","clearRect","Table","headings","isMobile","useMediaQuery","maxWidth","gridTemplateColumns","margin","map","capitalize","DataContainer","children","flexDirection","alignItems","biomass","solar","wind","hydro","coal","nuclear","imports","gas","other","enterRight","keyframes","EnergyWrapper","section","EnergyData","chartData","useCallback","filteredData","generationmix","filter","perc","total","reduce","count","fuel","PI","tableData","sort","b","intensity","forecast","index","loading","LoaderWidget","Loader","position","bottom","left","transform","marginTop","BarChart","colours","LABEL_PADDING","generateChart","chartWidth","length","chartHeight","strokeStyle","lineTo","stroke","i","round","valueY","BAR_GAP","drawBar","BAR_WIDTH","barHeight","rectX","rectY","fillRect","barColours","no","no2","o3","so2","pm2_5","pm10","nh3","airIndex","1","2","3","4","5","pollutantIndex","co","enterLeft","PollutionWrapper","PollutionData","Object","keys","components","key","entries","pollutant","main","aqi","Logo","submitted","transition","fontFamily","color","Wrapper","show","Mound","Stem","spin","BladeWrapper","Blade","rotation","Windmill","App","setLoading","energyData","setEnergyData","pollutionData","setPollutionData","locationData","fetchData","Promise","all","pollutionRes","energyRes","marginLeft","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0e7df0c5.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst fetchLocationData = async (postcode) => {\n  try {\n    const formattedPostcode = postcode.replace(/\\s/g, \"\");\n\n    const res = await axios.get(\n      `https://api.postcodes.io/postcodes/${formattedPostcode}`\n    );\n\n    const { admin_district, outcode, latitude, longitude } = res.data.result;\n\n    return {\n      admin_district,\n      outcode,\n      latitude,\n      longitude,\n    };\n  } catch (err) {\n    throw err;\n  }\n};\n\nconst fetchEnergeyData = async (outcode) => {\n  try {\n    const date = new Date().toISOString();\n\n    const res = await axios.get(\n      `https://api.carbonintensity.org.uk/regional/intensity/${date}/fw48h/postcode/${outcode}`\n    );\n\n    console.log(res.data.data.data[0]);\n\n    return res.data.data.data[0];\n  } catch (err) {\n    throw err;\n  }\n};\n\nconst fetchPollutionData = async (lat, long) => {\n  try {\n    const res = await axios.get(\n      `https://cors-anywhere.herokuapp.com/http://api.openweathermap.org/data/2.5/air_pollution?lat=${lat}&lon=${long}&appid=${process.env.REACT_APP_API_KEY}`\n    );\n\n    return res.data.list[0];\n  } catch (err) {\n    throw err;\n  }\n};\n\nconst services = { fetchLocationData, fetchPollutionData, fetchEnergeyData };\n\nexport default services;\n","import { createGlobalStyle } from \"styled-components\";\n\nexport const GlobalStyle = createGlobalStyle`\n  body {\n    background: #3d71a0;\n    font-family: 'Inder', sans-serif;\n    color: #fff;\n  }\n  \n  h1 {\n    text-align: center;\n    font-size: 4rem;\n  }\n\n  h2 {\n    font-size: 2rem;\n  }\n\n  h3 {\n    font-size: 1.5rem;\n  }\n\n  h4 {\n    font-size: 1.4rem;\n    font-weight: 500;\n  }\n\n  * {\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n  }\n`;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport services from \"../services/requests\";\n\nconst postcodeTest = /^([Gg][Ii][Rr] 0[Aa]{2})|((([A-Za-z][0-9]{1,2})|(([A-Za-z][A-Ha-hJ-Yj-y][0-9]{1,2})|(([A-Za-z][0-9][A-Za-z])|([A-Za-z][A-Ha-hJ-Yj-y][0-9]?[A-Za-z]))))\\s?[0-9][A-Za-z]{2})$/;\n\nconst FormWrapper = styled.div`\n  position: absolute;\n  top: ${(props) => props.style.top};\n  left: 50%;\n  font-size: ${(props) => props.style.fontSize};\n  transform: translate(-50%);\n  transition: 1s;\n`;\n\nconst SubmitBtn = styled.button`\n  border: none;\n  background-color: #00abff;\n  color: #fff;\n  padding: 0.3em 0.5em;\n  cursor: pointer;\n  border-radius: 0 35px 35px 0;\n  font-size: 0.8em;\n`;\n\nconst PostcodeInput = styled.input`\n  border-radius: 0;\n  border: none;\n  padding: 0.6rem 1em;\n  font-size: 1.1em;\n  border-radius: 35px 0 0 35px;\n  width: 6.5em;\n  color: #5c5c5c;\n  caret-color: #8f8f8f;\n`;\n\nconst Error = styled.div`\n  font-size: 0.6em;\n  text-align: center;\n  margin-top: 0.5rem;\n`;\n\nconst PostCodeForm = ({ setLocationData, setSubmitted }) => {\n  const inputRef = useRef(null);\n  const [error, setError] = useState(\"\");\n  const [postcode, setPostcode] = useState(\"\");\n  const [formStyle, setFormStyle] = useState({\n    top: \"30%\",\n    fontSize: \"1.8rem\",\n    width: \"200px\",\n  });\n\n  useEffect(() => {\n    inputRef.current.focus();\n  }, []);\n\n  const handleChange = (e) => {\n    setPostcode(e.target.value.toUpperCase());\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      if (!postcodeTest.test(postcode)) {\n        throw \"Please enter a full, valid UK postcode\";\n      }\n\n      const data = await services.fetchLocationData(postcode);\n\n      setError(\"\");\n      setFormStyle({ top: \"40px\", fontSize: \"1.2rem\", width: \"150px\" });\n      setLocationData(data);\n      setSubmitted(true);\n    } catch (err) {\n      console.error(err);\n      setError(err);\n      setTimeout(() => setError(\"\"), 4000);\n    }\n  };\n\n  return (\n    <FormWrapper style={formStyle}>\n      <form\n        style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n        }}\n        onSubmit={(e) => handleSubmit(e)}\n        autoComplete=\"off\"\n      >\n        <PostcodeInput\n          ref={inputRef}\n          aria-label=\"post-code\"\n          type=\"text\"\n          name=\"postCode\"\n          placeholder=\"Postcode\"\n          value={postcode}\n          onChange={(e) => handleChange(e)}\n        ></PostcodeInput>\n        <SubmitBtn>Submit</SubmitBtn>\n      </form>\n      {error && (\n        <Error>\n          <i class=\"fas fa-exclamation-triangle\"></i> <span>{error}</span>\n        </Error>\n      )}\n    </FormWrapper>\n  );\n};\n\nexport default PostCodeForm;\n","import React, { useEffect, useRef } from \"react\";\n\nconst PieChart = ({ data, chartColours }) => {\n  const canvasRef = useRef(null);\n\n  useEffect(() => {\n    const ctx = canvasRef.current.getContext(\"2d\");\n    generatePie(ctx);\n  }, [data]);\n\n  const generatePie = (ctx) => {\n    clearCanvas(ctx);\n\n    let accum = 0;\n    data.forEach((obj) => {\n      drawSlice(ctx, accum, obj);\n      accum += obj.radians;\n    });\n  };\n\n  const drawSlice = (ctx, arcStart, obj) => {\n    // Draw arcs\n    const { label, value, radians } = obj;\n    const canvas = canvasRef.current;\n    const [centerX, centerY] = [canvas.width / 2, canvas.height / 2];\n    const radius = (canvas.height / 2) * 0.75;\n    const arcEnd = arcStart + radians;\n\n    ctx.beginPath();\n    ctx.moveTo(centerX, centerY);\n    ctx.arc(centerX, centerY, radius, arcStart, arcEnd, false);\n    ctx.closePath();\n    ctx.fillStyle = chartColours[label];\n    ctx.fill();\n\n    // Draw labels\n    const midPoint = arcStart + (arcEnd - arcStart) / 2;\n    const labelPos = radius * 1.1;\n    const labelX = centerX + labelPos * Math.cos(midPoint);\n    const labelY = centerY + labelPos * Math.sin(midPoint);\n\n    ctx.font = \".9rem arial\";\n    ctx.fontWeight = \"400\";\n    ctx.fillStyle = \"#fff\";\n    ctx.textAlign = labelX < centerX ? \"right\" : \"left\";\n    ctx.fillText(`${label}: ${value}%`, labelX, labelY);\n  };\n\n  const clearCanvas = (ctx) => {\n    const canvas = canvasRef.current;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n  };\n\n  return (\n    <div>\n      <canvas ref={canvasRef} width=\"520\" height=\"400\"></canvas>\n    </div>\n  );\n};\n\nexport default PieChart;\n","import React, { Fragment } from \"react\";\nimport { capitalize } from \"lodash\";\nimport { useMediaQuery } from \"react-responsive\";\n\nconst Table = ({ data, headings }) => {\n  const isMobile = useMediaQuery({ maxWidth: 800 });\n  return (\n    <div\n      style={{\n        display: \"grid\",\n        gridTemplateColumns: \"1fr 1fr\",\n        width: isMobile ? \"80%\" : \"30%\",\n        margin: \"0 .5rem\",\n      }}\n    >\n      <div>\n        <h4>{headings[0]}</h4>\n      </div>\n      <div style={{ textAlign: \"right\" }}>\n        <h4>{headings[1]}</h4>\n      </div>\n      {data.map((value) => (\n        <Fragment>\n          <div>{capitalize(value[0])}</div>\n          <div style={{ textAlign: \"right\" }}>{value[1]}</div>\n        </Fragment>\n      ))}\n    </div>\n  );\n};\n\nexport default Table;\n","import React from \"react\";\nimport { useMediaQuery } from \"react-responsive\";\n\nconst DataContainer = ({ children }) => {\n  const isMobile = useMediaQuery({ maxWidth: 800 });\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: isMobile ? \"column\" : \"row\",\n        justifyContent: isMobile ? \"center\" : \"space-between\",\n        alignItems: isMobile ? \"center\" : \"stretch\",\n      }}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default DataContainer;\n","import React, { useCallback } from \"react\";\nimport styled, { keyframes } from \"styled-components\";\nimport PieChart from \"../charts/PieChart\";\nimport Table from \"../charts/Table\";\nimport DataContainer from \"../layout/DataContainer\";\n\nconst chartColours = {\n  biomass: \"#79db88\",\n  solar: \"#ffb555\",\n  wind: \"#a8d6ff\",\n  hydro: \"#00abff\",\n  coal: \"#443636\",\n  nuclear: \"#5de6c6\",\n  imports: \"#e65d5d\",\n  gas: \"#8d7cdf\",\n  other: \"#eb2bee\",\n};\n\nconst enterRight = keyframes`\n  0% {margin-left: -100vw;}\n  100% {margin: 0;} \n`;\n\nconst EnergyWrapper = styled.section`\n  border-top: 1px solid #fff;\n  padding: 0.5rem 0;\n  animation: ${enterRight};\n  animation-duration: 0.5s;\n  animation-iteration-count: 1;\n  animation-timing-function: ease-out;\n`;\n\nconst EnergyData = ({ data }) => {\n  const chartData = useCallback(() => {\n    const filteredData = data.generationmix.filter((obj) => obj.perc > 0.5);\n    const total = filteredData.reduce((count, obj) => count + obj.perc, 0);\n    const formattedData = filteredData.map((obj) => {\n      return {\n        value: obj.perc,\n        label: obj.fuel,\n        radians: (obj.perc / total) * (Math.PI * 2),\n      };\n    });\n    return formattedData;\n  }, [data]);\n\n  const tableData = useCallback(() => {\n    return data.generationmix\n      .sort((a, b) => a.perc < b.perc)\n      .map((fuel) => [fuel.fuel, fuel.perc]);\n  }, [data]);\n\n  return (\n    <EnergyWrapper>\n      <header style={{ textAlign: \"center\" }}>\n        <h3>Energy Overview</h3>\n        <p>\n          Carbon Intensity:{\" \"}\n          {`${data.intensity.forecast} (${data.intensity.index})`}\n        </p>\n      </header>\n      <DataContainer>\n        <Table headings={[\"Fuel source\", \"%\"]} data={tableData()} />\n        <PieChart data={chartData()} chartColours={chartColours} />\n      </DataContainer>\n    </EnergyWrapper>\n  );\n};\n\nexport default EnergyData;\n","import React from \"react\";\nimport styled, { keyframes } from \"styled-components\";\n\nconst loading = keyframes`\n  0% {left: 50%; top: 0px; border-radius: 50% 50% 50% 0;}\n  25% {left: 100%; top: 50%; border-radius: 0 50% 50% 50%;}\n  50% {left: 50%; top: 100%; border-radius: 50% 0 50% 50%;}\n  75% {left: 0%; top: 50%; border-radius: 50% 50% 0 50%; }\n  100% {left: 50%; top: 0px; border-radius: 50% 50% 50% 0;}\n`;\n\nconst LoaderWidget = styled.div`\n  height: 100%;\n  width: 100%;\n\n  & div {\n    width: 20px;\n    height: 20px;\n    background: #fff;\n    position: relative;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    animation: ${loading} 1.8s infinite;\n  }\n\n  & div:nth-child(2) {\n    transform: translate(-50%, -150%);\n    animation-delay: -0.9s;\n  }\n`;\n\nconst Loader = () => {\n  return (\n    <div\n      style={{\n        position: \"fixed\",\n        bottom: \"50%\",\n        left: \"50%\",\n        transform: \"translate(-50%)\",\n        textAlign: \"center\",\n      }}\n    >\n      <div\n        style={{\n          width: \"100px\",\n          height: \"100px\",\n          margin: \"auto\",\n        }}\n      >\n        <LoaderWidget>\n          <div />\n          <div />\n        </LoaderWidget>\n      </div>\n      <div style={{ marginTop: \"40px\", fontSize: \"1.4rem\" }}>\n        <span>Working on it...</span>\n      </div>\n    </div>\n  );\n};\n\nexport default Loader;\n","import React, { useEffect, useRef } from \"react\";\n\nconst BarChart = ({ data, colours }) => {\n  const canvasRef = useRef(null);\n  const BAR_WIDTH = 60;\n  const BAR_GAP = 10;\n  const MAX_VALUE = 30;\n  const LABEL_PADDING = 30;\n\n  useEffect(() => {\n    const ctx = canvasRef.current.getContext(\"2d\");\n\n    generateChart(ctx);\n  }, [data]);\n\n  const generateChart = (ctx) => {\n    clearCanvas(ctx);\n    const chartWidth = BAR_GAP + (BAR_WIDTH + BAR_GAP) * data.length;\n    const chartHeight = canvasRef.current.height - LABEL_PADDING;\n    ctx.font = \".9rem arial\";\n    ctx.fontWeight = \"400\";\n    ctx.fillStyle = \"#fff\";\n    ctx.strokeStyle = \"#fff\";\n    ctx.textAlign = \"right\";\n\n    // Draw X Axis\n    ctx.beginPath();\n    ctx.moveTo(LABEL_PADDING, chartHeight + 1);\n    ctx.lineTo(chartWidth + 25, chartHeight + 1);\n    ctx.stroke();\n\n    // Draw Y Axis\n    ctx.beginPath();\n    ctx.moveTo(LABEL_PADDING, 1);\n    ctx.lineTo(LABEL_PADDING, chartHeight);\n    ctx.stroke();\n\n    // Draw Y values\n    for (let i = 1; i >= 0; i -= 0.15) {\n      const value = Math.round(MAX_VALUE * i);\n      const valueY = chartHeight - chartHeight * i;\n      ctx.fillText(value, 25, valueY);\n    }\n\n    // Draw bars\n    let accum = BAR_GAP + LABEL_PADDING;\n    data.forEach((obj) => {\n      drawBar(ctx, chartHeight, accum, obj);\n      accum += BAR_WIDTH + BAR_GAP;\n    });\n  };\n\n  const drawBar = (ctx, chartHeight, accum, obj) => {\n    const canvas = canvasRef.current;\n    const barProportion = (obj.value / MAX_VALUE) * 100;\n    const barHeight = (barProportion / 100) * chartHeight;\n    const rectX = accum;\n    const rectY = canvas.height - (barHeight + LABEL_PADDING);\n\n    // Draw bar\n    ctx.fillStyle = colours[obj.label];\n    ctx.fillRect(rectX, rectY, BAR_WIDTH, barHeight);\n\n    // Draw labels\n    const labelX = rectX + BAR_WIDTH / 2;\n    const labelY = rectY + barHeight + 20;\n\n    ctx.textAlign = \"center\";\n    ctx.fillStyle = \"#fff\";\n    ctx.fillText(`${obj.label}`, labelX, labelY);\n  };\n\n  const clearCanvas = (ctx) => {\n    const canvas = canvasRef.current;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n  };\n\n  return <canvas ref={canvasRef} width=\"520\" height=\"400\"></canvas>;\n};\n\nexport default BarChart;\n","import React, { useCallback } from \"react\";\nimport BarChart from \"../charts/BarChart\";\nimport Table from \"../charts/Table\";\nimport DataContainer from \"../layout/DataContainer\";\nimport styled, { keyframes } from \"styled-components\";\n\nconst barColours = {\n  no: \"#79db88\",\n  no2: \"#ffb555\",\n  o3: \"#a8d6ff\",\n  so2: \"#00abff\",\n  pm2_5: \"#443636\",\n  pm10: \"#5de6c6\",\n  nh3: \"#e65d5d\",\n};\n\nconst airIndex = {\n  1: \"Good\",\n  2: \"Fair\",\n  3: \"Moderate\",\n  4: \"Poor\",\n  5: \"Very Poor\",\n};\n\nconst pollutantIndex = {\n  co: \"Carbon monnoxide\",\n  no: \"Nitrous oxide\",\n  no2: \"Nitrous dioxide\",\n  o3: \"Ozone\",\n  so2: \"Sulphur dioxide\",\n  pm2_5: \"Fine particulates\",\n  pm10: \"Coarse particulates\",\n  nh3: \"Ammonia\",\n};\n\nconst enterLeft = keyframes`\n  0% {margin-right: -100vw;}\n  100% {margin: 0;} \n`;\n\nconst PollutionWrapper = styled.section`\n  border-top: 1px solid #fff;\n  padding: 0.5rem 0;\n  animation: ${enterLeft};\n  animation-duration: 0.5s;\n  animation-iteration-count: 1;\n  animation-timing-function: ease-out;\n`;\n\nconst PollutionData = ({ data }) => {\n  const chartData = useCallback(() => {\n    return Object.keys(data.components)\n      .filter((key) => key !== \"co\" && key !== \"o3\")\n      .map((key) => ({\n        label: key,\n        value: data.components[key],\n      }))\n      .sort((a, b) => a.value < b.value);\n  }, [data]);\n\n  const tableData = useCallback(() => {\n    return Object.entries(data.components).map(([pollutant, value]) => [\n      pollutantIndex[pollutant],\n      value,\n    ]);\n  }, [data]);\n\n  return (\n    <PollutionWrapper>\n      <header style={{ textAlign: \"center\" }}>\n        <h3>Pollution Overview</h3>\n        <p>\n          Air Quality Index: {`${data.main.aqi} (${airIndex[data.main.aqi]})`}\n        </p>\n      </header>\n      <DataContainer>\n        <BarChart data={chartData()} colours={barColours} />\n        <Table headings={[\"Pollutant\", \"μg/m³\"]} data={tableData()} />\n      </DataContainer>\n    </PollutionWrapper>\n  );\n};\n\nexport default PollutionData;\n","import React from \"react\";\n\nconst Logo = (props) => {\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        top: props.submitted ? \"15px\" : \"16%\",\n        left: props.submitted ? \"200px\" : \"50%\",\n        transform: props.submitted ? \"\" : \"translate(-50%)\",\n        transition: \"1.5s\",\n      }}\n    >\n      <h1\n        style={{\n          fontFamily: \"'Heebo', sans-serif\",\n          fontSize: props.submitted ? \"2rem\" : \"4rem\",\n        }}\n      >\n        <span style={{ color: \"#ace138\" }}>Green</span> Vitals\n      </h1>\n    </div>\n  );\n};\n\nexport default Logo;\n","import React from \"react\";\nimport styled, { keyframes } from \"styled-components\";\n\nconst Wrapper = styled.div`\n  height: 600px;\n  width: 400px;\n  position: absolute;\n  overflow: hidden;\n  box-sizing: content-box;\n  bottom: ${(props) => (props.show ? \"-100vh\" : \"-50px\")};\n  left: 50%;\n  transform: translate(-50%);\n  transition: 1.5s;\n\n  :after {\n    content: \"\";\n    display: block;\n    width: 400px;\n    height: 400px;\n    background: #0f0;\n    position: relative;\n    top: 70%;\n    border-radius: 50%;\n  }\n`;\n\nconst Mound = styled.div`\n  display: block;\n  width: 400px;\n  height: 400px;\n  background: #0f0;\n  position: relative;\n  top: 70%;\n\n  border-radius: 50%;\n`;\n\nconst Stem = styled.div`\n  height: 280px;\n  width: 17px;\n  background: #fff;\n  position: absolute;\n  left: 50%;\n  transform: translate(-50%);\n  top: 30%;\n  z-index: 2;\n  border-radius: 0 0 20px 20px;\n\n  :before {\n    content: \"\";\n    display: block;\n    width: 35px;\n    height: 35px;\n    border-radius: 50%;\n    position: relative;\n    top: -15px;\n    left: 0px;\n    transform: translateX(-25%);\n    background: #fff;\n  }\n`;\n\nconst spin = keyframes`\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n`;\n\nconst BladeWrapper = styled.div`\n  position: absolute;\n  height: 400px;\n  width: 400px;\n  top: -20px;\n  animation: ${spin} 2s linear infinite;\n  z-index: 3;\n`;\n\nconst Blade = styled.div`\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 37px 0 158px 16px;\n  border-color: transparent transparent transparent #fff;\n  position: relative;\n  top: ${(props) => props.top};\n  left: ${(props) => props.left};\n  z-index: 3;\n  transform: rotate(${(props) => props.rotation}deg);\n`;\n\nconst Windmill = (props) => {\n  return (\n    <Wrapper show={props.submitted}>\n      <BladeWrapper>\n        <Blade top=\"50%\" left=\"200px\" rotation={\"0\"} />\n        <Blade top=\"-130px\" left=\"108px\" rotation={\"120\"} />\n        <Blade top=\"-340px\" left=\"272px\" rotation={\"240\"} />\n      </BladeWrapper>\n      <Stem />\n      <Mound />\n    </Wrapper>\n  );\n};\n\nexport default Windmill;\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport services from \"./services/requests\";\nimport { GlobalStyle } from \"./GlobalStyle\";\nimport PostCodeForm from \"./components/PostCodeForm\";\nimport EnergyData from \"./components/energy-data/EnergyData\";\nimport Loader from \"./components/utils/Loader\";\nimport PollutionData from \"./components/pollution-data/PollutionData\";\nimport Logo from \"./components/layout/Logo\";\nimport Windmill from \"./components/Windmill\";\n\nconst App = () => {\n  const [loading, setLoading] = useState(false);\n  const [submitted, setSubmitted] = useState(false);\n  const [energyData, setEnergyData] = useState();\n  const [pollutionData, setPollutionData] = useState();\n  const [locationData, setLocationData] = useState({\n    admin_district: \"\",\n    outcode: \"\",\n    latitude: \"\",\n    longitude: \"\",\n  });\n\n  useEffect(() => {\n    if (submitted) {\n      fetchData();\n    }\n  }, [submitted, locationData]);\n\n  const fetchData = async () => {\n    try {\n      setLoading(true);\n\n      const { outcode, latitude, longitude } = locationData;\n\n      const [pollutionRes, energyRes] = await Promise.all([\n        services.fetchPollutionData(latitude, longitude),\n        services.fetchEnergeyData(outcode),\n      ]);\n\n      setEnergyData(energyRes);\n      setPollutionData(pollutionRes);\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Fragment>\n      <GlobalStyle />\n      {loading && <Loader />}\n      <div style={{ maxWidth: \"1100px\", margin: \"auto\" }}>\n        <Logo submitted={submitted} />\n        <PostCodeForm\n          setLocationData={setLocationData}\n          setSubmitted={setSubmitted}\n        />\n        <div style={{ margin: \"120px auto 0 auto\" }}>\n          {!loading && (\n            <h2 style={{ marginLeft: \"1rem\" }}>\n              {locationData.admin_district}\n            </h2>\n          )}\n          {!loading && energyData && <EnergyData data={energyData} />}\n          {!loading && pollutionData && <PollutionData data={pollutionData} />}\n        </div>\n        <Windmill submitted={submitted} />\n      </div>\n    </Fragment>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}